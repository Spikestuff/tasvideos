@page
@model TASVideos.Pages.Exhibitions.CreateModel
@{
	ViewData.SetTitle($"Create New Exhibition");
}

<form method="post">
	<form-group>
		<label asp-for="Exhibition.Title" class="form-control-label"></label>
		<input asp-for="Exhibition.Title" class="form-control" />
		<span asp-validation-for="Exhibition.Title" class="text-danger"></span>
	</form-group>
	<form-group>
		<label asp-for="Exhibition.ExhibitionTimestamp" class="form-control-label"></label>
		<input asp-for="Exhibition.ExhibitionTimestamp" class="form-control" placeholder="e.g. 2023-08-21 08:00:00Z" />
		<span asp-validation-for="Exhibition.ExhibitionTimestamp" class="text-danger"></span>
	</form-group>
	<form-group>
		@{
			Model.Exhibition.Urls.Add(new());
		}
		<label asp-for="Exhibition.Urls" class="form-control-label"></label>
		<div class="ms-3">
			<form-group>
				<label asp-for="Exhibition.Urls[0].Type" class="form-control-label"></label>
				<select asp-for="Exhibition.Urls[0].Type" asp-items="Model.AvailableUrlTypes" class="form-control"></select>
				<span asp-validation-for="Exhibition.Urls[0].Type" class="text-danger"></span>
			</form-group>
			<form-group>
				<label asp-for="Exhibition.Urls[0].DisplayName" class="form-control-label"></label>
				<input asp-for="Exhibition.Urls[0].DisplayName" class="form-control" />
				<span asp-validation-for="Exhibition.Urls[0].DisplayName" class="text-danger"></span>
			</form-group>
			<form-group>
				<label asp-for="Exhibition.Urls[0].Url" class="form-control-label"></label>
				<input asp-for="Exhibition.Urls[0].Url" class="form-control" />
				<span asp-validation-for="Exhibition.Urls[0].Url" class="text-danger"></span>
			</form-group>
			<a class="btn btn-silver btn-sm" disabled><i class="fa fa-plus"></i></a><small>(this button allows adding more urls but is not implemented yet)</small>
		</div>
	</form-group>
	<form-group>
		<label asp-for="Exhibition.Games"></label>
		<select asp-for="Exhibition.Games" asp-items="Model.AvailableGames"></select>
		<span asp-validation-for="Exhibition.Games" class="text-danger"></span>
	</form-group>
	<form-group>
		<label asp-for="Exhibition.Contributors"></label>
		<select asp-for="Exhibition.Contributors" asp-items="Model.AvailableUsers"></select>
		<span asp-validation-for="Exhibition.Contributors" class="text-danger"></span>
	</form-group>
	<div class="text-center">
		<button id="submit-btn" type="submit" class="btn btn-primary"><i class="fa fa-plus"></i> Create</button>
	</div>
</form>

@section Scripts {
	<partial name="_ValidationScriptsPartial" />
	<script src="/js/select-improver.js"></script>
	<script>
		engageSelectImprover('@Html.IdFor(m => m.Exhibition.Games)');
		engageSelectImprover('@Html.IdFor(m => m.Exhibition.Contributors)');
	</script>
}